<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Obtain the damond-pancreas-2019 dataset — DamondPancreas2019Data • imcdatasets</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Obtain the damond-pancreas-2019 dataset — DamondPancreas2019Data" />
<meta property="og:description" content="Obtain the damond-pancreas-2019 dataset, which consists of three data
objects: single cell data, multichannel images and cell segmentation masks.
The data was obtained by imaging mass cytometry of human pancreas sections
from donors with type 1 diabetes." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">imcdatasets</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/imcdatasets.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/BodenmillerGroup/imcdatasets/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Obtain the damond-pancreas-2019 dataset</h1>
    <small class="dont-index">Source: <a href='https://github.com/BodenmillerGroup/imcdatasets/blob/master/R/DamondPancreas2019Data.R'><code>R/DamondPancreas2019Data.R</code></a></small>
    <div class="hidden name"><code>DamondPancreas2019Data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Obtain the damond-pancreas-2019 dataset, which consists of three data
objects: single cell data, multichannel images and cell segmentation masks.
The data was obtained by imaging mass cytometry of human pancreas sections
from donors with type 1 diabetes.</p>
    </div>

    <pre class="usage"><span class='fu'>DamondPancreas2019Data</span><span class='op'>(</span>
  data_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"sce"</span>, <span class='st'>"images"</span>, <span class='st'>"masks"</span><span class='op'>)</span>,
  on_disk <span class='op'>=</span> <span class='cn'>FALSE</span>,
  h5FilesPath <span class='op'>=</span> <span class='cn'>NULL</span>,
  force <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data_type</th>
      <td><p>type of data to load, should be `sce` for single cell data,
`images` for multichannel images or `masks` for cell segmentation masks.</p></td>
    </tr>
    <tr>
      <th>on_disk</th>
      <td><p>logical indicating if images in form of
HDF5Array objects (as .h5 files) should be stored on disk
rather than in memory. This setting is valid when downloading <code>images</code> and
<code>masks</code>.</p></td>
    </tr>
    <tr>
      <th>h5FilesPath</th>
      <td><p>path to where the .h5 files for on disk representation
are stored. This path needs to be defined when <code>on_disk = TRUE</code>.
When files should only temporarily be stored on disk, please set
<code>h5FilesPath = getHDF5DumpDir()</code></p></td>
    </tr>
    <tr>
      <th>force</th>
      <td><p>logical indicating if images should be overwritten when files
with the same name already exist on disk.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A SingleCellExperiment object with single cell data, a
CytoImageList object containing multichannel images, or a
CytoImageList object containing cell masks.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This is an Imaging Mass Cytometry (IMC) dataset from Damond et al. (2019),
consisting of three data objects:</p><ul>
<li><p><code>DamondPancreas2019_images</code> contains a hundred 38-channel
    images in the form of a CytoImageList class object.</p></li>
<li><p><code>DamondPancreas2019_masks</code> contains the cell segmentation
    masks associated with the images, in the form of a
    CytoImageList class object.</p></li>
<li><p><code>DamondPancreas2019_sce</code> contains the single cell data
    extracted from the images using the cell segmentation masks, as well as
    the associated metadata, in the form of a
    SingleCellExperiment. This represents a total of 252,059
    cells x 38 channels.</p></li>
</ul>

<p>All data are downloaded from ExperimentHub and cached for local re-use.
Specific resources can be retrieved by searching for
<code>imcdatasets/DamondPancreas2019_sce</code>,
<code>imcdatasets/DamondPancreas2019_images</code>, or
<code>imcdatasets/DamondPancreas2019_masks</code>.</p>
<p>Mapping between the three data objects is performed via variables located in
their metadata columns: <code>mcols()</code> for the CytoImageList
objects and <code>ColData()</code> for the SingleCellExperiment
object. Mapping at the image level can be performed with the
<code>ImageName</code> or <code>ImageNumber</code> variables. Mapping between cell
segmentation masks and single cell data is performed with the
<code>CellNumber</code> variable, the values of which correspond to the intensity
values of the <code>DamondPancreas2019_masks</code> object. For practical
examples, please refer to the "Accessing IMC datasets" vignette.</p>
<p>This dataset is a subset of the complete Damond et al. (2019) dataset
comprising the data from three pancreas donors at different stages of type 1
diabetes (T1D). The three donors present clearly diverging characteristics in
terms of cell type composition and cell-cell interactions, which makes this
dataset ideal for benchmarking spatial and neighborhood analysis algorithms.</p>
<p>The <code>assay</code> slot of the SingleCellExperiment object
contains two assays:</p><ul>
<li><p><code>counts</code> contains mean ion counts per cell.</p></li>
<li><p><code>exprs</code> contains arsinh-transformed counts, with cofactor 1.</p></li>
</ul>

<p>The marker-associated metadata, including antibody information and metal tags
are stored in the <code>rowData</code> of the SingleCellExperiment
object.</p>
<p>The cell-associated metadata are stored in the <code>colData</code> of the
SingleCellExperiment object. These metadata include cell types
(in <code>colData(sce)$CellType</code>) and broader cell categories, such  as
"immune" or "islet" cells (in <code>colData(sce)$CellCat</code>). In addition,
for cells located inside pancreatic islets, the islet they belong to is
indicated in <code>colData(sce)$ParentIslet</code>. For cells not located in
islets, the "ParentIslet" value is set to 0 but the spatially closest islet
can be identified with <code>colData(sce)$ClosestIslet</code>.</p>
<p>The donor-associated metadata are also stored in the <code>colData</code> of the
SingleCellExperiment object. For instance, the donors' IDs can
be retrieved with <code>colData(sce)$case</code> and the donors' disease stage can
be obtained with <code>colData(sce)$stage</code>.</p>
<p>The three donors present the following characteristics:</p><ul>
<li><p><code>6126</code> is a non-diabetic donor, with large islets containing
    many beta cells, severe infiltration of the exocrine pancreas with
    myeloid cells but limited infiltration of islets.</p></li>
<li><p><code>6414</code> is a donor with recent T1D onset (shortly after
    diagnosis) showing partial beta cell destruction and mild infiltration of
    islets with T cells.</p></li>
<li><p><code>6180</code> is a donor with long-duration T1D (11 years after
    diagnosis), showing near-total beta cell destruction and limited immune
    cell infiltration in both the islets and the pancreas.</p></li>
</ul>

<p>File sizes:</p><ul>
<li><p><code>`DamondPancreas2019_images`</code>: size in memory = 7.4 Gb, size
    on disk = 1780 Mb.</p></li>
<li><p><code>`DamondPancreas2019_masks`</code>: size in memory = 200.0 Mb, size
    on disk = 8.6 Mb.</p></li>
<li><p><code>`DamondPancreas2019_sce`</code>: size in memory = 248.6 Mb, size on
    disk = 145 Mb.</p></li>
</ul>

<p>When storing images on disk, these need to be first fully read into memory
before writing them to disk. This means the process of downloading the data
is slower than directly keeping them in memory. However, downstream analysis
will lose its memory overhead when storing images on disk.</p>
<p>Original source: Damond et al. (2019):
https://doi.org/10.1016/j.cmet.2018.11.014</p>
<p>Original link to raw data, also containing the entire dataset:
https://data.mendeley.com/datasets/cydmwsfztj/2</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Damond N et al. (2019).
A Map of Human Type 1 Diabetes Progression by Imaging Mass Cytometry.
<em>Cell Metab</em> 29(3), 755-768.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Nicolas Damond</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>sce</span> <span class='op'>&lt;-</span> <span class='fu'>DamondPancreas2019Data</span><span class='op'>(</span>data_type <span class='op'>=</span> <span class='st'>"sce"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Cannot connect to ExperimentHub server, using 'localHub=TRUE' instead</span></div><div class='output co'>#&gt; <span class='message'>snapshotDate(): 2021-05-05</span></div><div class='output co'>#&gt; <span class='message'>see ?imcdatasets and browseVignettes('imcdatasets') for documentation</span></div><div class='output co'>#&gt; <span class='message'>loading from cache</span></div><div class='input'><span class='va'>sce</span>
</div><div class='output co'>#&gt; class: SingleCellExperiment 
#&gt; dim: 38 252059 
#&gt; metadata(0):
#&gt; assays(2): counts exprs
#&gt; rownames(38): H3 SMA ... Ir191 Ir193
#&gt; rowData names(15): TubeNb MetalTag ... miCAT2 miCAT
#&gt; colnames(252059): E02_1 E02_2 ... J34_1149 J34_1150
#&gt; colData names(26): slide id ... Ethnicity BMI
#&gt; reducedDimNames(0):
#&gt; mainExpName: NULL
#&gt; altExpNames(0):</div><div class='input'><span class='va'>images</span> <span class='op'>&lt;-</span> <span class='fu'>DamondPancreas2019Data</span><span class='op'>(</span>data_type <span class='op'>=</span> <span class='st'>"images"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Cannot connect to ExperimentHub server, using 'localHub=TRUE' instead</span></div><div class='output co'>#&gt; <span class='message'>snapshotDate(): 2021-05-05</span></div><div class='output co'>#&gt; <span class='message'>see ?imcdatasets and browseVignettes('imcdatasets') for documentation</span></div><div class='output co'>#&gt; <span class='message'>loading from cache</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>images</span><span class='op'>)</span>
</div><div class='output co'>#&gt; CytoImageList containing 6 image(s)
#&gt; names(6): E02_a0_full_clean E03_a0_full_clean E04_a0_full_clean E05_a0_full_clean E06_a0_full_clean E07_a0_full_clean 
#&gt; Each image contains 38 channel(s)
#&gt; channelNames(38): H3 SMA INS CD38 CD44 PCSK2 CD99 CD68 MPO SLC2A1 CD20 AMY2A CD3e PPY PIN PD-1 GCG PDX1 SST SYP KRT19 CD45 FOXP3 CD45RA CD8a CA9 IAPP KI-67 NKX6-1 pH3 CD4 CD31 CDH PTPRN pRB cPARP1 Ir191 Ir193 </div><div class='input'><span class='va'>masks</span> <span class='op'>&lt;-</span> <span class='fu'>DamondPancreas2019Data</span><span class='op'>(</span>data_type <span class='op'>=</span> <span class='st'>"masks"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Cannot connect to ExperimentHub server, using 'localHub=TRUE' instead</span></div><div class='output co'>#&gt; <span class='message'>snapshotDate(): 2021-05-05</span></div><div class='output co'>#&gt; <span class='message'>see ?imcdatasets and browseVignettes('imcdatasets') for documentation</span></div><div class='output co'>#&gt; <span class='message'>loading from cache</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>masks</span><span class='op'>)</span>
</div><div class='output co'>#&gt; CytoImageList containing 6 image(s)
#&gt; names(6): E02_a0_full_mask E03_a0_full_mask E04_a0_full_mask E05_a0_full_mask E06_a0_full_mask E07_a0_full_mask 
#&gt; Each image contains 1 channel</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Nicolas Damond.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


