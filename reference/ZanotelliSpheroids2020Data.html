<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Obtain the zanotelli-spheroids-2020 dataset — ZanotelliSpheroids2020Data • imcdatasets</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Obtain the zanotelli-spheroids-2020 dataset — ZanotelliSpheroids2020Data" />
<meta property="og:description" content="Obtain the zanotelli-spheroids-2020 dataset, which consists of three data
objects: single cell data, multichannel images and cell segmentation masks.
The data were obtained by imaging mass cytometry of sections of 3D spheroids
generated from different cell lines." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">imcdatasets</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/imcdatasets.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/BodenmillerGroup/imcdatasets/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Obtain the zanotelli-spheroids-2020 dataset</h1>
    <small class="dont-index">Source: <a href='https://github.com/BodenmillerGroup/imcdatasets/blob/master/R/ZanotelliSpheroids2020Data.R'><code>R/ZanotelliSpheroids2020Data.R</code></a></small>
    <div class="hidden name"><code>ZanotelliSpheroids2020Data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Obtain the zanotelli-spheroids-2020 dataset, which consists of three data
objects: single cell data, multichannel images and cell segmentation masks.
The data were obtained by imaging mass cytometry of sections of 3D spheroids
generated from different cell lines.</p>
    </div>

    <pre class="usage"><span class='fu'>ZanotelliSpheroids2020Data</span><span class='op'>(</span>
  data_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"sce"</span>, <span class='st'>"images"</span>, <span class='st'>"masks"</span><span class='op'>)</span>,
  on_disk <span class='op'>=</span> <span class='cn'>FALSE</span>,
  h5FilesPath <span class='op'>=</span> <span class='cn'>NULL</span>,
  force <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data_type</th>
      <td><p>type of data to load, should be <code>sce</code> for single cell 
data, <code>images</code> for multichannel images or <code>masks</code> for cell 
segmentation masks.</p></td>
    </tr>
    <tr>
      <th>on_disk</th>
      <td><p>logical indicating if images in form of
HDF5Array objects (as .h5 files) should be stored on disk
rather than in memory. This setting is valid when downloading <code>images</code>
and <code>masks</code>.</p></td>
    </tr>
    <tr>
      <th>h5FilesPath</th>
      <td><p>path to where the .h5 files for on disk representation
are stored. This path needs to be defined when <code>on_disk = TRUE</code>.
When files should only temporarily be stored on disk, please set
<code>h5FilesPath = getHDF5DumpDir()</code></p></td>
    </tr>
    <tr>
      <th>force</th>
      <td><p>logical indicating if images should be overwritten when files
with the same name already exist on disk.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A SingleCellExperiment object with single cell data, a
CytoImageList object containing multichannel images, or a
CytoImageList object containing cell segmentation masks.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This is an Imaging Mass Cytometry (IMC) dataset from Zanotelli et al. (2020),
consisting of three data objects:</p><ul>
<li><p><code>ZanotelliSpheroids2020_images</code> contains 517 multichannel 
    images, each containing 51 channels, in the form of a 
    CytoImageList class object.</p></li>
<li><p><code>ZanotelliSpheroids2020_masks</code> contains the cell segmentation
    masks associated with the images, in the form of a
    CytoImageList class object.</p></li>
<li><p><code>ZanotelliSpheroids2020_sce</code> contains the single cell data
    extracted from the images using the cell segmentation masks, as well as
    the associated metadata, in the form of a
    SingleCellExperiment. This represents a total of 229,047
    cells x 51 channels.</p></li>
</ul>

<p>All data are downloaded from ExperimentHub and cached for local re-use.
Specific resources can be retrieved by searching for
<code>imcdatasets/ZanotelliSpheroids2020_sce</code>,
<code>imcdatasets/ZanotelliSpheroids2020_images</code>, or
<code>imcdatasets/ZanotelliSpheroids2020_masks</code>.</p>
<p>Mapping between the three data objects is performed via variables located in
their metadata columns: <code>mcols()</code> for the CytoImageList
objects and <code>ColData()</code> for the SingleCellExperiment
object. Mapping at the image level can be performed with the
<code>ImageName</code> or <code>ImageNumber</code> variables. Mapping between cell
segmentation masks and single cell data is performed with the
<code>CellNumber</code> variable, the values of which correspond to the intensity
values of the <code>ZanotelliSpheroids2020_masks</code> object. For practical
examples, please refer to the "Accessing IMC datasets" vignette.</p>
<p>This dataset was obtained as following (the names of the experimental
variables, located in the <code>colData</code> of the
SingleCellExperiment object, are indicated in parentheses):
<em>i)</em> Cells from four different cell lines (<code>cellline</code>) were seeded 
at three different densities (<code>concentration</code>, relative densities) and 
grown for either 72 or 96 hours (<code>time_point</code>, duration in hours). In 
the appropriate experimental conditions (see the paper for details), the 
cells aggregate into 3D spheroids. <em>ii)</em> Cells were harvested and pooled
into 60-well barcoding plates. <em>iii)</em> A pellet of each spheroid pool was
generated and cut into several 6 um-thick sections. <em>iv)</em> A subset of 
these sections (<code>site_id</code>) were stained with an IMC panel and acquired 
as one or more acquisitions (<code>acquisition_id</code>) containing multiple 
spheres each. <em>v)</em> Spheres in these acquisitions were identified by 
computer vision and cropped into individual images (<code>ImageNumber</code>).</p>
<p>Other relevant cell metadata include:</p><ul>
<li><p><code>condition_name</code>: experimental conditions in the format:
    <code>"Cell line name"_c"seeding density"_tp"time point"</code>.</p></li>
<li><p><code>Center_X/Y</code>: object centroid position in image.</p></li>
<li><p><code>Area</code>: area of the cell (um^2).</p></li>
<li><p><code>dist.rim</code>: estimated distance to spheroid border.</p></li>
<li><p><code>dist.sphere</code>: distance to spheroid section border.</p></li>
<li><p><code>dist.other</code>: distance to the closest of the other spheroid
    sections in the same image (if there is any).</p></li>
<li><p><code>dist.bg</code>: distance to background pixels.</p></li>
<li><p><code>counts_neighb</code>: contains arsinh-transformed counts, with cofactor 1.</p></li>
<li><p><code>exprs_neighb</code>: contains arsinh-transformed counts, with cofactor 1.</p></li>
</ul><p>For a full description of the other experimental variables, please refer to
the publication (https://doi.org/10.15252/msb.20209798) and to the
original dataset repository (https://doi.org/10.5281/zenodo.4271910).</p>
<p>The marker-associated metadata, including antibody information and metal tags
are stored in the <code>rowData</code> of the SingleCellExperiment
object. The channels with names starting with "BC_" are the channels used for
 barcoding. Post-transcriptional modification of the protein targets are
indicated in brackets.</p>
<p>The <code>assay</code> slot of the SingleCellExperiment object
contains four assays:</p><ul>
<li><p><code>counts</code>: mean ion counts per cell.</p></li>
<li><p><code>exprs</code>: arsinh-transformed counts per cell, with cofactor 1.</p></li>
<li><p><code>counts_neighb</code>: mean ion counts of the neighboring cells.</p></li>
<li><p><code>exprs_neighb</code>: arsinh-transformed counts (cofactor 1) of the
    neighboring cells.</p></li>
</ul>

<p>The <code>metadata</code> slot of the SingleCellExperiment object
contains a graph of cell neighbors, generated with the
<code><a href='https://rdrr.io/pkg/igraph/man/graph_from_data_frame.html'>igraph::graph_from_data_frame</a></code> function.</p>
<p>File sizes:</p><ul>
<li><p><code>`ZanotelliSpheroids2020_images`</code>: size in memory = 21.2 Gb, 
    size on disk = 881 Mb.</p></li>
<li><p><code>`ZanotelliSpheroids2020_masks`</code>: size in memory = 426 Mb, 
    size on disk = 11.6 Mb.</p></li>
<li><p><code>`ZanotelliSpheroids2020_sce`</code>: size in memory = 584 Mb, size on
    disk = 340 Mb.</p></li>
</ul>

<p>When storing images on disk, these need to be first fully read into memory
before writing them to disk. This means the process of downloading the data
is slower than directly keeping them in memory. However, downstream analysis
will lose its memory overhead when storing images on disk.</p>
<p>Original source: Zanotelli et al. (2020):
https://doi.org/10.15252/msb.20209798</p>
<p>Original link to raw data, also containing the entire dataset:
https://doi.org/10.5281/zenodo.4271910</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Zanotelli VRT et al. (2020).
A quantitative analysis of the interplay of environment, neighborhood, and
cell state in 3D spheroids
<em>Mol Syst Biol</em> 16(12), e9798.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Nicolas Damond</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>sce</span> <span class='op'>&lt;-</span> <span class='fu'>ZanotelliSpheroids2020Data</span><span class='op'>(</span>data_type <span class='op'>=</span> <span class='st'>"sce"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>snapshotDate(): 2021-05-05</span></div><div class='output co'>#&gt; <span class='message'>see ?imcdatasets and browseVignettes('imcdatasets') for documentation</span></div><div class='output co'>#&gt; <span class='message'>loading from cache</span></div><div class='input'><span class='va'>sce</span>
</div><div class='output co'>#&gt; class: SingleCellExperiment 
#&gt; dim: 51 229047 
#&gt; metadata(1): graph
#&gt; assays(4): counts counts_neighb exprs exprs_neighb
#&gt; rownames(51): p-p70S6K [T389] p-Stat3 [Y705] ... p-AKT [S473] BC_Pd105
#&gt; rowData names(6): ref_plane_number metal ... Antibody.Clone is_cc
#&gt; colnames(229047): 454 455 ... 349952 349968
#&gt; colData names(30): ImageNumber Row.names ... mask_filename_cell
#&gt;   ImageName
#&gt; reducedDimNames(0):
#&gt; mainExpName: NULL
#&gt; altExpNames(0):</div><div class='input'><span class='va'>images</span> <span class='op'>&lt;-</span> <span class='fu'>ZanotelliSpheroids2020Data</span><span class='op'>(</span>data_type <span class='op'>=</span> <span class='st'>"images"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>snapshotDate(): 2021-05-05</span></div><div class='output co'>#&gt; <span class='message'>see ?imcdatasets and browseVignettes('imcdatasets') for documentation</span></div><div class='output co'>#&gt; <span class='message'>loading from cache</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>images</span><span class='op'>)</span>
</div><div class='output co'>#&gt; CytoImageList containing 6 image(s)
#&gt; names(6): 20190619_p173_slide31_ac1_vz_s1_p1_r11_a11_ac_full_l2_x217_y72_comp 20190619_p173_slide31_ac1_vz_s1_p1_r13_a13_ac_full_l1_x0_y0_comp 20190619_p173_slide31_ac1_vz_s1_p1_r14_a14_ac_full_l1_x0_y127_comp 20190619_p173_slide31_ac1_vz_s1_p1_r14_a14_ac_full_l2_x277_y0_comp 20190619_p173_slide31_ac1_vz_s1_p1_r14_a14_ac_full_l3_x389_y144_comp 20190619_p173_slide31_ac1_vz_s1_p1_r15_a15_ac_full_l1_x0_y0_comp 
#&gt; Each image contains 51 channel(s)
#&gt; channelNames(51): BC_Pd102 BC_Rh103 BC_Pd104 BC_Pd105 BC_Pd106 BC_Pd108 BC_Pd110 BC_In113 BC_In115 Telox2 meHH3 [K27] HH3 EGFR p-FAK [Y397] p-MEK1/2 [S217/S221] p-MAPKAPK2 [T334] p-p70S6K [T389] p-AuroraB [T232] p-Stat1 [S727] p-p53 [S15] CD44 p-EGFR [Tyr1173] p-AMPKalpha [T172] p-HH3 [S28] p-Erk1/2 [T202/Y204] p-Her2 [Y1196] p-p38 [T180/Y182] p-Gsk3 [S9] HER2 Survivin CyclinB1 Vimentin p-AKT [S473] AKT p-CDK1 [Y15] CarbonicAnhydraseIX GFP_Er167 Ki-67 GFP_Tm169 p-JNK [T183/Y185] p-S6 [S235/S236] cleaved-Caspase3 p-Stat3 [Y705] cleaved-PARP p-Rb [S807/S811] DYKDDDDK DNA BC_Pt194 BC_Pt195 BC_Bi209 BC_Y89 </div><div class='input'><span class='va'>masks</span> <span class='op'>&lt;-</span> <span class='fu'>ZanotelliSpheroids2020Data</span><span class='op'>(</span>data_type <span class='op'>=</span> <span class='st'>"masks"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Cannot connect to ExperimentHub server, using 'localHub=TRUE' instead</span></div><div class='output co'>#&gt; <span class='message'>snapshotDate(): 2021-05-05</span></div><div class='output co'>#&gt; <span class='message'>see ?imcdatasets and browseVignettes('imcdatasets') for documentation</span></div><div class='output co'>#&gt; <span class='message'>loading from cache</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>masks</span><span class='op'>)</span>
</div><div class='output co'>#&gt; CytoImageList containing 6 image(s)
#&gt; names(6): 20190619_p173_slide31_ac1_vz_s1_p1_r11_a11_ac_full_l2_x217_y72_cell 20190619_p173_slide31_ac1_vz_s1_p1_r13_a13_ac_full_l1_x0_y0_cell 20190619_p173_slide31_ac1_vz_s1_p1_r14_a14_ac_full_l1_x0_y127_cell 20190619_p173_slide31_ac1_vz_s1_p1_r14_a14_ac_full_l2_x277_y0_cell 20190619_p173_slide31_ac1_vz_s1_p1_r14_a14_ac_full_l3_x389_y144_cell 20190619_p173_slide31_ac1_vz_s1_p1_r15_a15_ac_full_l1_x0_y0_cell 
#&gt; Each image contains 1 channel</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Nicolas Damond.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


