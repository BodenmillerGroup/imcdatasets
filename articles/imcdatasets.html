<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Accessing IMC datasets • imcdatasets</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Accessing IMC datasets">
<meta property="og:description" content="imcdatasets">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">imcdatasets</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.5.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/imcdatasets.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Guidelines_Contribution_Dataset-formatting.html">Contribution guidelines and dataset format</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/BodenmillerGroup/imcdatasets/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Accessing IMC datasets</h1>
                        <h4 data-toc-skip class="author">Nicolas
Damond</h4>
            <address class="author_afil">
      Department for Quantitative Biomedicine; University of
ZurichInstitute of Molecular Health Sciences; ETH
Zurich<br><a class="author_email" href="mailto:#"></a><a href="mailto:nicolas.damond@dqbm.uzh.ch" class="email">nicolas.damond@dqbm.uzh.ch</a>
      </address>
                              <h4 data-toc-skip class="author">Nils
Eling</h4>
            <address class="author_afil">
      Department for Quantitative Biomedicine; University of
ZurichInstitute of Molecular Health Sciences; ETH
Zurich<br><a class="author_email" href="mailto:#"></a><a href="mailto:nils.eling@dqbm.uzh.ch" class="email">nils.eling@dqbm.uzh.ch</a>
      </address>
                  
            <h4 data-toc-skip class="date">Created: 02 November 2020;
Compiled: 21 October 2022</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/BodenmillerGroup/imcdatasets/blob/HEAD/vignettes/imcdatasets.Rmd" class="external-link"><code>vignettes/imcdatasets.Rmd</code></a></small>
      <div class="hidden name"><code>imcdatasets.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <em><a href="https://bioconductor.org/packages/3.16/imcdatasets" class="external-link">imcdatasets</a></em>
package provides access to publicly available datasets generated using
imaging mass cytometry (IMC) <span class="citation">(Giesen et al.
2014)</span>.</p>
<p>IMC is a technology that enables measurement of up to 50 markers from
tissue sections at a resolution of 1 <span class="math inline">\(\mu
m\)</span> <span class="citation">Giesen et al. (2014)</span>. In
classical processing pipelines, such as the <a href="https://github.com/BodenmillerGroup/ImcSegmentationPipeline" class="external-link">ImcSegmentationPipeline</a>
or <a href="https://bodenmillergroup.github.io/steinbock/latest/" class="external-link">steinbock</a>,
the multichannel images are segmented to generate cells masks. These
masks are then used to extract single cell features from the
multichannel images.</p>
<p>Each dataset in <code>imcdatasets</code> is composed of three
elements that can be retrieved separately:<br>
1. Single-cell data in the form of a <code>SingleCellExperiment</code>
or <code>SpatialExperiment</code> class object (named
<code>sce.rds</code>).<br>
2. Multichannel images in the form of a <code>CytoImageList</code> class
object (named <code>images.rds</code>).<br>
3. Cell segmentation masks in the form of a <code>CytoImageList</code>
class object (named <code>masks.rds</code>).</p>
</div>
<div class="section level2">
<h2 id="available-datasets">Available datasets<a class="anchor" aria-label="anchor" href="#available-datasets"></a>
</h2>
<p>The <code><a href="../reference/listDatasets.html">listDatasets()</a></code> function returns all available
datasets in <code>imcdatasets</code>, along with associated information.
The <code>FunctionCall</code> column gives the name of the R function
that enables to load the dataset.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listDatasets.html">listDatasets</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">datasets</span><span class="op">)</span></span>
<span><span class="va">datasets</span><span class="op">$</span><span class="va">FunctionCall</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"`%s`"</span>, <span class="va">datasets</span><span class="op">$</span><span class="va">FunctionCall</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">datasets</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="25%">
<col width="5%">
<col width="14%">
<col width="9%">
<col width="10%">
<col width="11%">
<col width="23%">
</colgroup>
<thead><tr class="header">
<th align="left">FunctionCall</th>
<th align="left">Species</th>
<th align="left">Tissue</th>
<th align="right">NumberOfCells</th>
<th align="right">NumberOfImages</th>
<th align="right">NumberOfChannels</th>
<th align="left">Reference</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code><a href="../reference/Damond_2019_Pancreas.html">Damond_2019_Pancreas()</a></code></td>
<td align="left">Human</td>
<td align="left">Pancreas</td>
<td align="right">252059</td>
<td align="right">100</td>
<td align="right">38</td>
<td align="left"><span class="citation">Damond et al. (2019)</span></td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/JacksonFischer_2020_BreastCancer.html">JacksonFischer_2020_BreastCancer()</a></code></td>
<td align="left">Human</td>
<td align="left">Primary breast tumour</td>
<td align="right">285851</td>
<td align="right">100</td>
<td align="right">42</td>
<td align="left"><span class="citation">Jackson et al.
(2020)</span></td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/Zanotelli_2020_Spheroids.html">Zanotelli_2020_Spheroids()</a></code></td>
<td align="left">Human</td>
<td align="left">Cell line spheroids</td>
<td align="right">229047</td>
<td align="right">517</td>
<td align="right">51</td>
<td align="left"><span class="citation">Zanotelli et al.
(2020)</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="retrieving-data">Retrieving data<a class="anchor" aria-label="anchor" href="#retrieving-data"></a>
</h2>
<p>Users can import the datasets by calling a single function and
specifying the type of data to retrieve. The following examples
highlight accessing the dataset provided by <em>Damond, N. et al., A Map
of Human Type 1 Diabetes Progression by Imaging Mass Cytometry</em>
<span class="citation">(Damond et al. 2019)</span>.</p>
<p><strong>Importing single-cell expression data and
metadata</strong></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sce</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Damond_2019_Pancreas.html">Damond_2019_Pancreas</a></span><span class="op">(</span><span class="st">"sce"</span><span class="op">)</span></span>
<span><span class="va">sce</span></span></code></pre></div>
<pre><code><span><span class="co">## class: SingleCellExperiment </span></span>
<span><span class="co">## dim: 38 252059 </span></span>
<span><span class="co">## metadata(0):</span></span>
<span><span class="co">## assays(3): counts exprs quant_norm</span></span>
<span><span class="co">## rownames(38): H3 SMA ... DNA1 DNA2</span></span>
<span><span class="co">## rowData names(6): channel metal ... antibody_clone full_name</span></span>
<span><span class="co">## colnames(252059): 138_1 138_2 ... 319_1149 319_1150</span></span>
<span><span class="co">## colData names(28): cell_id image_name ... patient_ethnicity patient_BMI</span></span>
<span><span class="co">## reducedDimNames(0):</span></span>
<span><span class="co">## mainExpName: Damond_2019_Pancreas</span></span>
<span><span class="co">## altExpNames(0):</span></span></code></pre>
<p><strong>Importing multichannel images</strong></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">images</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Damond_2019_Pancreas.html">Damond_2019_Pancreas</a></span><span class="op">(</span><span class="st">"images"</span><span class="op">)</span></span>
<span><span class="va">images</span></span></code></pre></div>
<pre><code><span><span class="co">## CytoImageList containing 100 image(s)</span></span>
<span><span class="co">## names(100): E02 E03 E04 E05 E06 E07 E08 E09 E10 E11 E12 E13 E14 E15 E16 E17 E18 E19 E20 E21 E22 E23 E24 E25 E26 E27 E28 E29 E30 E31 E32 E33 E34 G01 G02 G03 G04 G05 G06 G07 G08 G09 G10 G11 G12 G13 G14 G15 G16 G17 G18 G19 G20 G21 G22 G23 G24 G25 G26 G27 G28 G29 G30 G31 G32 G33 J01 J02 J03 J04 J05 J06 J07 J08 J09 J10 J11 J12 J13 J14 J15 J16 J17 J18 J19 J20 J21 J22 J23 J24 J25 J26 J27 J28 J29 J30 J31 J32 J33 J34 </span></span>
<span><span class="co">## Each image contains 38 channel(s)</span></span>
<span><span class="co">## channelNames(38): H3 SMA INS CD38 CD44 PCSK2 CD99 CD68 MPO SLC2A1 CD20 AMY2A CD3e PPY PIN PD_1 GCG PDX1 SST SYP KRT19 CD45 FOXP3 CD45RA CD8a CA9 IAPP Ki67 NKX6_1 p_HH3 CD4 CD31 CDH1 PTPRN p_Rb cPARP_cCASP3 DNA1 DNA2</span></span></code></pre>
<p><strong>Importing cell segmentation masks</strong></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">masks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Damond_2019_Pancreas.html">Damond_2019_Pancreas</a></span><span class="op">(</span><span class="st">"masks"</span><span class="op">)</span></span>
<span><span class="va">masks</span></span></code></pre></div>
<pre><code><span><span class="co">## CytoImageList containing 100 image(s)</span></span>
<span><span class="co">## names(100): E02 E03 E04 E05 E06 E07 E08 E09 E10 E11 E12 E13 E14 E15 E16 E17 E18 E19 E20 E21 E22 E23 E24 E25 E26 E27 E28 E29 E30 E31 E32 E33 E34 G01 G02 G03 G04 G05 G06 G07 G08 G09 G10 G11 G12 G13 G14 G15 G16 G17 G18 G19 G20 G21 G22 G23 G24 G25 G26 G27 G28 G29 G30 G31 G32 G33 J01 J02 J03 J04 J05 J06 J07 J08 J09 J10 J11 J12 J13 J14 J15 J16 J17 J18 J19 J20 J21 J22 J23 J24 J25 J26 J27 J28 J29 J30 J31 J32 J33 J34 </span></span>
<span><span class="co">## Each image contains 1 channel</span></span></code></pre>
<p><strong>On disk storage</strong></p>
<p>Objects containing multi-channel images and segmentation masks can
furthermore be stored on disk rather than in memory. Nevertheless, they
need to be loaded into memory once before writing them to disk. This
process takes longer than keeping them in memory but reduces memory
requirements during downstream analysis.</p>
<p>To write images or masks to disk, set <code>on_disk = TRUE</code> and
specify a path where images/masks will be stored as .h5 files:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create temporary location</span></span>
<span><span class="va">cur_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">masks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Damond_2019_Pancreas.html">Damond_2019_Pancreas</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"masks"</span>, on_disk <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    h5FilesPath <span class="op">=</span> <span class="va">cur_path</span><span class="op">)</span></span>
<span><span class="va">masks</span></span></code></pre></div>
<pre><code><span><span class="co">## CytoImageList containing 100 image(s)</span></span>
<span><span class="co">## names(100): E02 E03 E04 E05 E06 E07 E08 E09 E10 E11 E12 E13 E14 E15 E16 E17 E18 E19 E20 E21 E22 E23 E24 E25 E26 E27 E28 E29 E30 E31 E32 E33 E34 G01 G02 G03 G04 G05 G06 G07 G08 G09 G10 G11 G12 G13 G14 G15 G16 G17 G18 G19 G20 G21 G22 G23 G24 G25 G26 G27 G28 G29 G30 G31 G32 G33 J01 J02 J03 J04 J05 J06 J07 J08 J09 J10 J11 J12 J13 J14 J15 J16 J17 J18 J19 J20 J21 J22 J23 J24 J25 J26 J27 J28 J29 J30 J31 J32 J33 J34 </span></span>
<span><span class="co">## Each image contains 1 channel</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="dataset-info-and-metadata">Dataset info and metadata<a class="anchor" aria-label="anchor" href="#dataset-info-and-metadata"></a>
</h2>
<p>Additional information about each dataset is available in the help
page:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">Damond_2019_Pancreas</span></span></code></pre></div>
<p>The metadata associated with a specific data object can be displayed
as follows:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/Damond_2019_Pancreas.html">Damond_2019_Pancreas</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"sce"</span>, metadata <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Damond_2019_Pancreas.html">Damond_2019_Pancreas</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"images"</span>, metadata <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Damond_2019_Pancreas.html">Damond_2019_Pancreas</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"masks"</span>, metadata <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The <code>SingleCellExperiment</code> class objects can be used for
data analysis. For more information, please refer to the <em><a href="https://bioconductor.org/packages/3.16/SingleCellExperiment" class="external-link">SingleCellExperiment</a></em>
package and to the <a href="http://bioconductor.org/books/release/OSCA/" class="external-link">Orchestrating
Single-Cell Analysis with Bioconductor</a> workflow.</p>
<p>The <code>CytoImageList</code> class objects can be used for plotting
cell and pixel information. Some typical use cases are given below. For
more information, please see the <em><a href="https://bioconductor.org/packages/3.16/cytomapper" class="external-link">cytomapper</a></em>
package and the <a href="https://www.bioconductor.org/packages/devel/bioc/vignettes/cytomapper/inst/doc/cytomapper.html" class="external-link">associated
vignette</a>.</p>
<p><strong>Subsetting the images and masks</strong></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cur_images</span> <span class="op">&lt;-</span> <span class="va">images</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span>
<span><span class="va">cur_masks</span> <span class="op">&lt;-</span> <span class="va">masks</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></code></pre></div>
<p><strong>Plotting pixel information</strong></p>
<p>The <code>images</code> objects can be used to display pixel-level
data.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/cytomapper/man/plotPixels.html" class="external-link">plotPixels</a></span><span class="op">(</span></span>
<span>    <span class="va">cur_images</span>,</span>
<span>    colour_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CDH1"</span>, <span class="st">"CD99"</span>, <span class="st">"H3"</span><span class="op">)</span>,</span>
<span>    bcg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        CD99 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>        CDH1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">8</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>        H3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">5</span>,<span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="imcdatasets_files/figure-html/usage-pixel-1.png" width="700"></p>
<p><strong>Plotting cell information</strong></p>
<p>The <code>masks</code> and <code>sce</code> objects can be combined
to display cell-level data.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/cytomapper/man/plotCells.html" class="external-link">plotCells</a></span><span class="op">(</span></span>
<span>    <span class="va">cur_masks</span>, object <span class="op">=</span> <span class="va">sce</span>,</span>
<span>    img_id <span class="op">=</span> <span class="st">"image_number"</span>, cell_id <span class="op">=</span> <span class="st">"cell_number"</span>,</span>
<span>    colour_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CD8a"</span>, <span class="st">"PIN"</span><span class="op">)</span>,</span>
<span>    exprs_values <span class="op">=</span> <span class="st">"exprs"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="imcdatasets_files/figure-html/usage-cell-1.png" width="700"></p>
<p><strong>Outlining cells on images</strong></p>
<p>Cell information can be displayed on top of images by combining the
<code>images</code>, <code>masks</code> and <code>sce</code>
objects.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/cytomapper/man/plotPixels.html" class="external-link">plotPixels</a></span><span class="op">(</span></span>
<span>    <span class="va">cur_images</span>, mask <span class="op">=</span> <span class="va">cur_masks</span>, object <span class="op">=</span> <span class="va">sce</span>,</span>
<span>    img_id <span class="op">=</span> <span class="st">"image_number"</span>, cell_id <span class="op">=</span> <span class="st">"cell_number"</span>,</span>
<span>    outline_by <span class="op">=</span> <span class="st">"cell_type"</span>,</span>
<span>    colour_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"H3"</span>, <span class="st">"CD99"</span>, <span class="st">"CDH1"</span><span class="op">)</span>,</span>
<span>    bcg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        CD99 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>        CDH1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">8</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>        H3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">5</span>,<span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="imcdatasets_files/figure-html/usage-outline-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 class="unnumbered" id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<pre><code><span><span class="co">## R version 4.2.1 (2022-06-23)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span><span class="co">## Running under: Ubuntu 20.04.5 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3</span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/liblapack.so.3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span></span>
<span><span class="co">##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span></span>
<span><span class="co">## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats4    stats     graphics  grDevices utils     datasets  methods  </span></span>
<span><span class="co">## [8] base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">##  [1] imcdatasets_1.5.3           cytomapper_1.9.0           </span></span>
<span><span class="co">##  [3] EBImage_4.39.0              SingleCellExperiment_1.19.1</span></span>
<span><span class="co">##  [5] SummarizedExperiment_1.27.3 Biobase_2.57.1             </span></span>
<span><span class="co">##  [7] GenomicRanges_1.49.1        GenomeInfoDb_1.33.13       </span></span>
<span><span class="co">##  [9] IRanges_2.31.2              S4Vectors_0.35.4           </span></span>
<span><span class="co">## [11] BiocGenerics_0.43.4         MatrixGenerics_1.9.1       </span></span>
<span><span class="co">## [13] matrixStats_0.62.0          BiocStyle_2.25.0           </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##   [1] ggbeeswarm_0.6.0              colorspace_2.0-3             </span></span>
<span><span class="co">##   [3] ellipsis_0.3.2                rprojroot_2.0.3              </span></span>
<span><span class="co">##   [5] XVector_0.37.1                fftwtools_0.9-11             </span></span>
<span><span class="co">##   [7] fs_1.5.2                      rstudioapi_0.14              </span></span>
<span><span class="co">##   [9] bit64_4.0.5                   AnnotationDbi_1.59.1         </span></span>
<span><span class="co">##  [11] interactiveDisplayBase_1.35.1 fansi_1.0.3                  </span></span>
<span><span class="co">##  [13] codetools_0.2-18              cachem_1.0.6                 </span></span>
<span><span class="co">##  [15] knitr_1.40                    jsonlite_1.8.3               </span></span>
<span><span class="co">##  [17] dbplyr_2.2.1                  png_0.1-7                    </span></span>
<span><span class="co">##  [19] shinydashboard_0.7.2          shiny_1.7.2                  </span></span>
<span><span class="co">##  [21] HDF5Array_1.25.2              httr_1.4.4                   </span></span>
<span><span class="co">##  [23] BiocManager_1.30.18           compiler_4.2.1               </span></span>
<span><span class="co">##  [25] assertthat_0.2.1              Matrix_1.5-1                 </span></span>
<span><span class="co">##  [27] fastmap_1.1.0                 cli_3.4.1                    </span></span>
<span><span class="co">##  [29] svgPanZoom_0.3.4              later_1.3.0                  </span></span>
<span><span class="co">##  [31] htmltools_0.5.3               tools_4.2.1                  </span></span>
<span><span class="co">##  [33] gtable_0.3.1                  glue_1.6.2                   </span></span>
<span><span class="co">##  [35] GenomeInfoDbData_1.2.9        dplyr_1.0.10                 </span></span>
<span><span class="co">##  [37] rappdirs_0.3.3                Rcpp_1.0.9                   </span></span>
<span><span class="co">##  [39] jquerylib_0.1.4               pkgdown_2.0.6                </span></span>
<span><span class="co">##  [41] raster_3.6-3                  Biostrings_2.65.6            </span></span>
<span><span class="co">##  [43] vctrs_0.4.2                   rhdf5filters_1.9.0           </span></span>
<span><span class="co">##  [45] svglite_2.1.0                 ExperimentHub_2.5.0          </span></span>
<span><span class="co">##  [47] xfun_0.34                     stringr_1.4.1                </span></span>
<span><span class="co">##  [49] mime_0.12                     lifecycle_1.0.3              </span></span>
<span><span class="co">##  [51] terra_1.6-17                  AnnotationHub_3.5.2          </span></span>
<span><span class="co">##  [53] zlibbioc_1.43.0               scales_1.2.1                 </span></span>
<span><span class="co">##  [55] ragg_1.2.3                    promises_1.2.0.1             </span></span>
<span><span class="co">##  [57] parallel_4.2.1                rhdf5_2.41.1                 </span></span>
<span><span class="co">##  [59] RColorBrewer_1.1-3            curl_4.3.3                   </span></span>
<span><span class="co">##  [61] yaml_2.3.6                    memoise_2.0.1                </span></span>
<span><span class="co">##  [63] gridExtra_2.3                 ggplot2_3.3.6                </span></span>
<span><span class="co">##  [65] sass_0.4.2                    stringi_1.7.8                </span></span>
<span><span class="co">##  [67] RSQLite_2.2.18                highr_0.9                    </span></span>
<span><span class="co">##  [69] BiocVersion_3.16.0            desc_1.4.2                   </span></span>
<span><span class="co">##  [71] tiff_0.1-11                   filelock_1.0.2               </span></span>
<span><span class="co">##  [73] BiocParallel_1.31.14          rlang_1.0.6                  </span></span>
<span><span class="co">##  [75] pkgconfig_2.0.3               systemfonts_1.0.4            </span></span>
<span><span class="co">##  [77] bitops_1.0-7                  evaluate_0.17                </span></span>
<span><span class="co">##  [79] lattice_0.20-45               purrr_0.3.5                  </span></span>
<span><span class="co">##  [81] Rhdf5lib_1.19.2               htmlwidgets_1.5.4            </span></span>
<span><span class="co">##  [83] bit_4.0.4                     tidyselect_1.2.0             </span></span>
<span><span class="co">##  [85] magrittr_2.0.3                bookdown_0.29                </span></span>
<span><span class="co">##  [87] R6_2.5.1                      generics_0.1.3               </span></span>
<span><span class="co">##  [89] nnls_1.4                      DelayedArray_0.23.2          </span></span>
<span><span class="co">##  [91] DBI_1.1.3                     withr_2.5.0                  </span></span>
<span><span class="co">##  [93] pillar_1.8.1                  KEGGREST_1.37.3              </span></span>
<span><span class="co">##  [95] abind_1.4-5                   RCurl_1.98-1.9               </span></span>
<span><span class="co">##  [97] sp_1.5-0                      tibble_3.1.8                 </span></span>
<span><span class="co">##  [99] crayon_1.5.2                  utf8_1.2.2                   </span></span>
<span><span class="co">## [101] BiocFileCache_2.5.2           rmarkdown_2.17               </span></span>
<span><span class="co">## [103] viridis_0.6.2                 jpeg_0.1-9                   </span></span>
<span><span class="co">## [105] locfit_1.5-9.6                grid_4.2.1                   </span></span>
<span><span class="co">## [107] blob_1.2.3                    digest_0.6.30                </span></span>
<span><span class="co">## [109] xtable_1.8-4                  httpuv_1.6.6                 </span></span>
<span><span class="co">## [111] textshaping_0.3.6             munsell_0.5.0                </span></span>
<span><span class="co">## [113] beeswarm_0.4.0                viridisLite_0.4.1            </span></span>
<span><span class="co">## [115] vipor_0.4.5                   bslib_0.4.0</span></span></code></pre>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Damond-2019-Pancreas" class="csl-entry">
Damond, N., S. Engler, V. R. T. Zanotelli, D. Schapiro, C. H.
Wasserfall, I. Kusmartseva, H. S. Nick, et al. 2019. <span>“A Map of
Human Type 1 Diabetes Progression by Imaging Mass Cytometry.”</span>
<em>Cell Metab.</em> 29 (3): 755–768.e5.
</div>
<div id="ref-Giesen-2014-IMC" class="csl-entry">
Giesen, C., H. A. O. Wang, D. Schapiro, N. Zivanovic, A. Jacobs, B.
Hattendorf, P. J. Schüffler, et al. 2014. <span>“Highly Multiplexed
Imaging of Tumor Tissues with Subcellular Resolution by Mass
Cytometry.”</span> <em>Nat. Methods</em> 11 (4): 417–22.
</div>
<div id="ref-JacksonFischer-2020-BreastCancer" class="csl-entry">
Jackson, H. W., J. R. Fischer, V. R. T. Zanotelli, R. H. Ali, R.
Mechera, S. D. Soysal, H. Moch, et al. 2020. <span>“The Single-Cell
Pathology Landscape of Breast Cancer.”</span> <em>Nature</em> 578
(7796): 615–20.
</div>
<div id="ref-Zanotelli-2020-Spheroids" class="csl-entry">
Zanotelli, V. R. T., M. Leutenegger, X. K. Lun, F. Georgi, N. de Souza,
and B. Bodenmiller. 2020. <span>“A Quantitative Analysis of the
Interplay of Environment, Neighborhood, and Cell State in 3d
Spheroids.”</span> <em>Mol Syst Biol</em> 16 (12): e9798.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Nicolas Damond.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
